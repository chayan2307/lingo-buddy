<div class="container">

  <% if current_user.teacher? %>
    <div class="container mt-5 mb-5">
      <div class="cards">
        <% @my_bookings.each do |booking| %>
          <div class="card">
            <div class="card-body">
              <h3>Booking Request from <%= booking.user_student[:first_name] %></h3>
              <h5 class="card-title"><%= "#{booking.start_date} to #{booking.end_date}" %></h5>
              <% if booking.confirmed? %>
                <h5 class="card-title">Status: Confirmed</h5>
              <% else %>
                <h5 class="card-title">Status: Unconfirmed</h5>
              <% end %>
              <center><%= link_to "Accept this booking", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this booking?"}, class: "btn btn-success"%></center>
              <center><%= link_to "Decline this booking", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this booking?"}, class: "btn btn-danger mt-3"%></center>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="container mt-5 mb-5">
      <div class="cards">
        <% @my_bookings.each do |booking| %>
          <div class="card">
            <div class="card-body">
              <h3>Upcoming Booking with <%= booking.user_teacher[:first_name] %></h3>
              <h5 class="card-title"><%= "#{booking.start_date} to #{booking.end_date}" %></h5>
              <% if booking.confirmed? %>
                <h5 class="card-title">Status: Confirmed</h5>
              <% else %>
                <h5 class="card-title">Status: Unconfirmed</h5>
              <% end %>
              <center><%= link_to "Cancel this booking", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this booking?"}, class: "btn btn-primary"%></center>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
